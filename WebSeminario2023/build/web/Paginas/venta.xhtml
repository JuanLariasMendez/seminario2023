<?xml version="1.0" encoding="UTF-8"?>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <title>Venta</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    </h:head>

    <h:body>
        <h:form id="encabezado">
            <p:growl id="growl" life="2000" showDetail="true"/>
            <p:panel header="Venta">
                <p:panelGrid columns="4">
                    <!--            se va a guardar en:-->
                    <p:selectOneMenu disabled="#{beanVenta.componentes}" id="idCliente" value="#{beanVenta.idCliente}" panelStyle="width:180px" filter="true" filterNormalize="true">
                        <f:selectItem itemLabel="Seleccione un cliente" itemValue=""/>
                        <f:selectItems value="#{beanVenta.listaCliente}"/>
                    </p:selectOneMenu>

                    <!--            se va a guardar en:-->
                    <p:selectOneMenu disabled="#{beanVenta.componentes}" id="idFormaPago" value="#{beanVenta.idFormaPago}" panelStyle="width:180px" filter="true" filterNormalize="true">
                        <f:selectItem itemLabel="Seleccione la forma de pago" itemValue=""/>
                        <f:selectItems value="#{beanVenta.listaFormaPago}"/>
                    </p:selectOneMenu>

                    <p:commandButton disabled="#{beanVenta.componentes}" id="guardar" value="Guardar" update="@form" styleClass="rounded-button ui-button-success" action ="#{beanVenta.insertar()}"/>
                </p:panelGrid>
            </p:panel>
        </h:form>

        <h:form id="detalleVenta">
            <p:growl id="growl" life="2000" showDetail="true"/>
            <p:panel header="Detalle venta">
                <p:panelGrid columns="4">
                    <!--            idProducto se va a guardar en: -->
                    <p:selectOneMenu id="idProducto" value="#{beanVenta.idProducto}" panelStyle="width:180px" filter="true" filterNormalize="true">
                        <f:selectItem itemLabel="Seleccione un producto" itemValue=""/>
                        <f:selectItems value="#{beanVenta.listaProducto}"/>
                    </p:selectOneMenu>

                    <p:commandButton id="guardar" value="Guardar" update="@form" styleClass="rounded-button ui-button-success" action ="#{beanProducto.insertar2()}"/>
                </p:panelGrid>
            </p:panel>
        </h:form>

        <h:form id="detalle">
            <div class="card">
                <p:dataTable var="product" value="#{beanProducto.listaProducto}" rowsPerPageTemplate="5,10,15" paginator="true" rows="10">

                    <p:column headerText="Producto" sortBy="#{product.nombreProducto}" filterBy="#{product.nombreProducto}">
                        <h:outputText value="#{product.nombreProducto}" /> 
                    </p:column>
                    <p:column headerText="Cantidad" sortBy="#{product.cantidad}" filterBy="#{product.cantidad}">
                        <h:outputText value="#{product.cantidad}" />
                    </p:column>
                    <p:column headerText="Precio" sortBy="#{product.precio}" filterBy="#{product.precio}">
                        <h:outputText value="#{product.precio}" />
                    </p:column>

                </p:dataTable>
            </div>
        </h:form>
    </h:body>
</html>
